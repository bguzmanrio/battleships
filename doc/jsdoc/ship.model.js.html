<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ship/ship.model.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ship/ship.model.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Represents the application ship.
 * @namespace Battleship.Ship
 * @memberOf Battleship
 */
Battleship.Ship = {};

(function(){
    "use strict";
    var that = this;
    
    /**
     * Creates the battleship ship.
     * @memberOf Battleship.Ship
     */
    this.createShip = function(options){
        var options = optionsByType[options];
        options.damages = [];
        var model = new ShipModel(options);
        return model;
    };
    
    var optionsByType = {
        battleship: {
            type: 'battleship',
            length: 5
        },
        
        destroyer: {
            type: 'destroyer',
            length: 4
        }
    }
    
    /**
     * Constructor for the ship model.
     * @constructor
     * @memberOf Battleship.Ship
     */
    var ShipModel = Backbone.Model.extend({
        defaults:{
            type: '',
            direction: 'vertical'
        },
        
        classes: {
            'battleship': 'ship battleship',
            'destroyer': 'ship destroyer'
        },
        
        percentages: {
            'battleship': ['ship0p','ship25p','ship50p','ship75p','ship100p'],
            'destroyer': ['ship0p','ship33p','ship66p','ship100p']
        },
        
        /**
         * Get the class for the visual representation of the ship in the board.
         * @memberOf Battleship.Ship.ShipModel
         * @param {object} position - position of the ship.
         * @returns {string} The class to apply to the cell.
         */
        getClass: function(position){
            var ship = this;
            var shipType = this.get('type');
            var direction = this.get('direction');
            var baseClass = this.classes[shipType];
            if(typeof position !== 'undefined'){
                getPercentage()
                getDirection();
            }else{
                getAllPercentages();
                getAllDirections();
            }
            
            return baseClass;
            
            function getPercentage(){
                baseClass += ' ' + ship.percentages[shipType][position];
            };
            
            function getAllPercentages(){
                baseClass += ' ' + ship.percentages[shipType].join(' ');
            };
            
            function getDirection(){
                baseClass += ' ' + direction
            };
            
            function getAllDirections(){
                baseClass += ' vertical horizontal';
            };
        },
        
        addDamage: function(position){
            this.attributes.damages.push(position);
        },
        
        isDestroyed: function(){
            return this.get('length') === this.get('damages').length;
        }
    });
        
    
    
}).apply(Battleship.Ship);</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Battleship.Board.BattleshipBoardView.html">BattleshipBoardView</a></li><li><a href="Battleship.Board.Model.BoardModel.html">BoardModel</a></li><li><a href="Battleship.Game.GameCoordinator.html">GameCoordinator</a></li><li><a href="Battleship.Game.PlayerDispatcher.html">PlayerDispatcher</a></li><li><a href="Battleship.Game.PlayerDispatcherView.html">PlayerDispatcherView</a></li><li><a href="Battleship.Ship.ShipModel.html">ShipModel</a></li><li><a href="Battleship.Ship.Views.ShipDisplayView.html">ShipDisplayView</a></li><li><a href="Battleship.Ship.Views.ShipView.html">ShipView</a></li><li><a href="Battleship.Ship.Views.ShipViewerView.html">ShipViewerView</a></li></ul><h3>Namespaces</h3><ul><li><a href="Battleship.html">Battleship</a></li><li><a href="Battleship.AppView.html">AppView</a></li><li><a href="Battleship.Board.html">Board</a></li><li><a href="Battleship.Board.Model.html">Model</a></li><li><a href="Battleship.Game.html">Game</a></li><li><a href="Battleship.Ship.html">Ship</a></li><li><a href="Battleship.Ship.Collection.html">Collection</a></li><li><a href="Battleship.Ship.Views.html">Views</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Thu May 07 2015 00:56:52 GMT+0200 (Romance Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
